import{u as y,a as f,A as x,b as j,j as s,R as n,C,F as r,I as i,B as P,T,c as I}from"./index-571bb19b.js";const{Paragraph:$,Title:F}=T,v=()=>{const{t:e}=y(),t=f(),{message:a}=x.useApp(),{init:c,id:d,code:p}=j(),u=`${c}${d}${p}`,m=async o=>{const{password:l,confirm:w}=o;if(l!==w){a.error(`${e("Passwords do not match")}`);return}const{ok:g}=await I(u,l);if(!g){a.error(`${e("Error while change password")}`),t("/");return}a.success(`${e("Password changed successfully")}`),t("/")},h=o=>{console.log("Failed:",o)};return s.jsx(n,{align:"middle",justify:"center",style:{height:"100%"},children:s.jsxs(C,{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[s.jsxs(n,{style:{flexDirection:"column",justifyItems:"flex-start",width:"100%"},children:[s.jsx(F,{style:{marginBottom:0,marginTop:"2%",userSelect:"none"},level:3,children:e("Change password")}),s.jsx($,{style:{marginTop:"2%",userSelect:"none"},children:e("You can change your password")})]}),s.jsx(n,{style:{justifyContent:"center",marginTop:"3%",width:"100%"},children:s.jsxs(r,{name:"changePassword",labelCol:{span:24},wrapperCol:{span:24},style:{width:"100%"},onFinish:m,onFinishFailed:h,autoComplete:"off",children:[s.jsx(r.Item,{label:e("Enter your pasword"),name:"password",rules:[{required:!0,message:`${e("Please input a password")}`}],children:s.jsx(i.Password,{placeholder:"password"})}),s.jsx(r.Item,{label:e("Confirm your pasword"),name:"confirm",rules:[{required:!0,message:`${e("Please confirm a password")}`}],children:s.jsx(i.Password,{placeholder:"Input your confirm password"})}),s.jsx(r.Item,{wrapperCol:{offset:6,span:6},children:s.jsx(P,{type:"primary",htmlType:"submit",style:{marginTop:"30%"},children:e("Change my password")})})]})})]})})};export{v as default};
